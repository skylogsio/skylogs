# ----------------------------------------
# SkyLogs Sentinel Configuration
# ----------------------------------------
server:
  listen: ":9192"
sentinel:
  id: arvan-bamdad-sentinel       # Unique identifier for this Sentinel instance
  role: secondary        # Role: primary / secondary (informational)

heartbeat:
  target_url: "http://localhost:9191/heartbeat"  # Main SkyLogs heartbeat endpoint
  interval: 5s            # How often to send heartbeat
  timeout: 3s             # Timeout per heartbeat request
  fail_after: 15s         # Mark main SkyLogs as down if unreachable for this period

alert:
  webhook_url: "http://nginx-back:8080/internal/alerts/sentinel"  # Where to send alerts
  retry_interval: 10s     # Retry alerting if first attempt fails

runtime:
  min_uptime: 30s         # Do not send alerts immediately after restart
  state_file: "/var/lib/skylogs-sentinel/state.json"  # Persistent state to survive restarts

logging:
  level: "info"           # Logging level: debug / info / warn / error
  file: "/var/log/skylogs-sentinel.log" # Optional log file path
security:
  shared_secret: "maivupei6azifae3uju1cahneewahiT3hia4ahY4ki2ieWee8p"
  allowed_drift: 10s
