{
    "openapi": "3.0.0",
    "info": {
        "title": "Skylogs API",
        "description": "Skylogs backend API documentation",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:9000",
            "description": "Skylogs local server"
        }
    ],
    "paths": {
        "/api/v1/alert-rule": {
            "get": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "List alert rules",
                "operationId": "getAlertRules",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 25
                        }
                    },
                    {
                        "name": "alertname",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "userId",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "types",
                        "in": "query",
                        "description": "separate types that you want to filter via , ",
                        "schema": {
                            "type": "string"
                        },
                        "example": "api,prometheus"
                    },
                    {
                        "name": "tags",
                        "in": "query",
                        "description": "separate types that you want to filter via , ",
                        "schema": {
                            "type": "string"
                        },
                        "example": "api,prometheus"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Create elastic alert rule",
                "operationId": "createAlertRuleElastic",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "High CPU usage"
                                    },
                                    "type": {
                                        "type": "string",
                                        "example": "elastic"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Alert when CPU > 80%"
                                    },
                                    "dataSourceId": {
                                        "type": "string",
                                        "example": "1"
                                    },
                                    "queryString": {
                                        "type": "string",
                                        "example": "OriginStatus:>=400 name:myName"
                                    },
                                    "userIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "teamIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "endpointIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "tags": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "dataviewName": {
                                        "type": "string",
                                        "example": "My dataview"
                                    },
                                    "dataviewTitle": {
                                        "type": "string",
                                        "example": "responses*"
                                    },
                                    "conditionType": {
                                        "type": "string",
                                        "enum": [
                                            "greaterOrEqual",
                                            "lessOrEqual"
                                        ],
                                        "example": "greaterOrEqual"
                                    },
                                    "countDocument": {
                                        "type": "integer",
                                        "example": 5
                                    },
                                    "minutes": {
                                        "type": "integer",
                                        "example": 5
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/alert-rule/{id}": {
            "get": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Get alert rule by id",
                "operationId": "getAlertRule",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Update alert rule",
                "operationId": "updateAlertRule",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "High CPU usage"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Alert when CPU > 80%"
                                    },
                                    "dataSourceIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "dataSourceAlertName": {
                                        "type": "string",
                                        "example": "CPU Alert"
                                    },
                                    "expression": {
                                        "type": "string",
                                        "example": "avg(rate(cpu_usage[5m])) > 80"
                                    },
                                    "enableAutoResolve": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "autoResolveMinutes": {
                                        "type": "integer",
                                        "example": 30
                                    },
                                    "userIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "teamIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Delete alert rule",
                "operationId": "deleteAlertRule",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Deleted"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/alert-rule/pin/{id}": {
            "post": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Toggle pin on alert rule",
                "operationId": "pinAlertRule",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/alert-rule/acknowledge/{id}": {
            "post": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Acknowledge an alert (current user)",
                "operationId": "acknowledgeAlertRule",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/alert-rule/acknowledgeL/{id}": {
            "get": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Acknowledge alert using login link (system user)",
                "operationId": "acknowledgeLoginLink",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/v1/alert-rule/resolve/{id}": {
            "post": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Resolve alert",
                "operationId": "resolveAlertRule",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/alert-rule/silent": {
            "post": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Mark alert as silent (accepts userIds / minutes)",
                "operationId": "silentAlertRule",
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "alertId": {
                                        "type": "string"
                                    },
                                    "userIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "minutes": {
                                        "type": "integer",
                                        "example": 60
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/alert-rule/unsilent": {
            "post": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Remove silence",
                "operationId": "unsilentAlertRule",
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/alert-rule/filter-endpoints": {
            "get": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Get selectable endpoints for alert rules",
                "operationId": "filterEndpoints",
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/alert-rule/types": {
            "get": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "List available alert rule types",
                "operationId": "getAlertRuleTypes",
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/v1/alert-rule/history/{id}": {
            "get": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Get history for an alert rule",
                "operationId": "getAlertHistory",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/alert-rule/triggered/{id}": {
            "get": {
                "tags": [
                    "AlertRule"
                ],
                "summary": "Get triggered/fired alerts for an alert rule",
                "operationId": "getTriggeredAlerts",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Authenticate user and retrieve access token",
                "operationId": "loginUser",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "username",
                                    "password"
                                ],
                                "properties": {
                                    "username": {
                                        "type": "string",
                                        "example": "admin"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "123456789"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successfully authenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "accessToken": {
                                            "type": "string",
                                            "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJI..."
                                        },
                                        "refreshToken": {
                                            "type": "string",
                                            "example": "eyJhbGciOiJIUzI1NiIsInR5..."
                                        },
                                        "tokenType": {
                                            "type": "string",
                                            "example": "bearer"
                                        },
                                        "roles": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "example": [
                                                "admin",
                                                "user"
                                            ]
                                        },
                                        "expiresIn": {
                                            "type": "integer",
                                            "example": 3600
                                        },
                                        "refreshExpiresIn": {
                                            "type": "integer",
                                            "example": 10800
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/api/v1/auth/me": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get authenticated user info",
                "operationId": "getCurrentUser",
                "responses": {
                    "200": {
                        "description": "Authenticated user",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "name": {
                                            "type": "string",
                                            "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJI..."
                                        },
                                        "username": {
                                            "type": "string",
                                            "example": "eyJhbGciOiJIUzI1NiIsInR5..."
                                        },
                                        "createdAt": {
                                            "type": "string",
                                            "example": "2025-09-22T19:03:16.922+00:00"
                                        },
                                        "updatedAt": {
                                            "type": "string",
                                            "example": "2025-09-22T19:03:16.922+00:00"
                                        },
                                        "roles": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "example": [
                                                "owner"
                                            ]
                                        },
                                        "permissions": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "expiresIn": {
                                            "type": "integer",
                                            "example": 3600
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout user and invalidate token",
                "operationId": "logoutUser",
                "responses": {
                    "200": {
                        "description": "Successfully logged out",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Successfully logged out"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/auth/refresh": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Refresh JWT access token",
                "operationId": "refreshToken",
                "responses": {
                    "200": {
                        "description": "Token refreshed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "accessToken": {
                                            "type": "string",
                                            "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJI..."
                                        },
                                        "refreshToken": {
                                            "type": "string",
                                            "example": "eyJhbGciOiJIUzI1NiIsInR5..."
                                        },
                                        "tokenType": {
                                            "type": "string",
                                            "example": "bearer"
                                        },
                                        "roles": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "example": [
                                                "owner"
                                            ]
                                        },
                                        "expiresIn": {
                                            "type": "integer",
                                            "example": 3600
                                        },
                                        "refreshExpiresIn": {
                                            "type": "integer",
                                            "example": 10800
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Token invalid or expired"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/call": {
            "get": {
                "tags": [
                    "ConfigCall"
                ],
                "summary": "List call configuration",
                "operationId": "getConfigCallList",
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "ConfigCall"
                ],
                "summary": "Create call config",
                "operationId": "createConfigCall",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "discriminator": {
                                    "propertyName": "provider",
                                    "mapping": {
                                        "kaveNegar": "#/components/schemas/KaveNegarConfig"
                                    }
                                },
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/KaveNegarConfig"
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/call/{id}": {
            "get": {
                "tags": [
                    "ConfigCall"
                ],
                "summary": "Get config by id",
                "operationId": "getConfigCall",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "ConfigCall"
                ],
                "summary": "Update call config",
                "operationId": "updateConfigCall",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "discriminator": {
                                    "propertyName": "provider",
                                    "mapping": {
                                        "kaveNegar": "#/components/schemas/KaveNegarConfig"
                                    }
                                },
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/KaveNegarConfig"
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "ConfigCall"
                ],
                "summary": "Delete call config",
                "operationId": "deleteConfigCall",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Deleted"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/call/resolve/{id}": {
            "post": {
                "tags": [
                    "ConfigCall"
                ],
                "summary": "make default config call",
                "operationId": "makeDefaultConfigCall",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/call/providers": {
            "get": {
                "tags": [
                    "ConfigCall"
                ],
                "summary": "List available call config providers",
                "operationId": "getConfigCallProviders",
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/v1/config/email": {
            "get": {
                "tags": [
                    "ConfigEmail"
                ],
                "summary": "List email configuration",
                "operationId": "getConfigEmailList",
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "ConfigEmail"
                ],
                "summary": "Create email config",
                "operationId": "createConfigEmail",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Primary Email"
                                    },
                                    "host": {
                                        "type": "string",
                                        "example": "email.skylogs.io"
                                    },
                                    "port": {
                                        "type": "string",
                                        "example": "80"
                                    },
                                    "username": {
                                        "type": "string",
                                        "example": "admin"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "123456789"
                                    },
                                    "fromAddress": {
                                        "type": "string",
                                        "example": "Info@skylogs.io"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/email/{id}": {
            "get": {
                "tags": [
                    "ConfigEmail"
                ],
                "summary": "Get config by id",
                "operationId": "getConfigEmail",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "ConfigEmail"
                ],
                "summary": "Update email config",
                "operationId": "updateConfigEmail",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Primary Email"
                                    },
                                    "host": {
                                        "type": "string",
                                        "example": "email.skylogs.io"
                                    },
                                    "port": {
                                        "type": "string",
                                        "example": "80"
                                    },
                                    "username": {
                                        "type": "string",
                                        "example": "admin"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "123456789"
                                    },
                                    "fromAddress": {
                                        "type": "string",
                                        "example": "Info@skylogs.io"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "ConfigEmail"
                ],
                "summary": "Delete email config",
                "operationId": "deleteConfigEmail",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Deleted"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/email/resolve/{id}": {
            "post": {
                "tags": [
                    "ConfigEmail"
                ],
                "summary": "make default config email",
                "operationId": "makeDefaultConfigEmail",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/email/providers": {
            "get": {
                "tags": [
                    "ConfigEmail"
                ],
                "summary": "List available email config providers",
                "operationId": "getConfigEmailProviders",
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/v1/config/sms": {
            "get": {
                "tags": [
                    "ConfigSms"
                ],
                "summary": "List sms configuration",
                "operationId": "getConfigSmsList",
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "ConfigSms"
                ],
                "summary": "Create sms config",
                "operationId": "createConfigSms",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "discriminator": {
                                    "propertyName": "provider",
                                    "mapping": {
                                        "kaveNegar": "#/components/schemas/KaveNegarConfigSMS"
                                    }
                                },
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/KaveNegarConfigSMS"
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/sms/{id}": {
            "get": {
                "tags": [
                    "ConfigSms"
                ],
                "summary": "Get config by id",
                "operationId": "getConfigSms",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "ConfigSms"
                ],
                "summary": "Update sms config",
                "operationId": "updateConfigSms",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "discriminator": {
                                    "propertyName": "provider",
                                    "mapping": {
                                        "kaveNegar": "#/components/schemas/KaveNegarConfigSMS"
                                    }
                                },
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/KaveNegarConfigSMS"
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "ConfigSms"
                ],
                "summary": "Delete sms config",
                "operationId": "deleteConfigSms",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "64b59f1a..."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Deleted"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/sms/resolve/{id}": {
            "post": {
                "tags": [
                    "ConfigSms"
                ],
                "summary": "make default config sms",
                "operationId": "makeDefaultConfigSms",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/config/sms/providers": {
            "get": {
                "tags": [
                    "ConfigSms"
                ],
                "summary": "List available sms config providers",
                "operationId": "getConfigSmsProviders",
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/v1/data-source": {
            "get": {
                "tags": [
                    "Data Sources"
                ],
                "summary": "Get list of data sources",
                "operationId": "getDataSources",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 25
                        }
                    },
                    {
                        "name": "name",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of data sources",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/DataSource"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Data Sources"
                ],
                "summary": "Create new data source",
                "operationId": "createDataSource",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "type",
                                    "url"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Production Prometheus"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "prometheus",
                                            "sentry",
                                            "grafana",
                                            "pmm",
                                            "zabbix",
                                            "splunk",
                                            "elastic"
                                        ],
                                        "example": "prometheus"
                                    },
                                    "url": {
                                        "type": "string",
                                        "example": "https://prometheus.example.com"
                                    },
                                    "api_token": {
                                        "type": "string"
                                    },
                                    "username": {
                                        "type": "string"
                                    },
                                    "password": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Data source created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/DataSource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/data-source/types": {
            "get": {
                "tags": [
                    "Data Sources"
                ],
                "summary": "Get available data source types",
                "operationId": "getDataSourceTypes",
                "responses": {
                    "200": {
                        "description": "List of data source types",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "string",
                                        "enum": [
                                            "prometheus",
                                            "sentry",
                                            "grafana",
                                            "pmm",
                                            "zabbix",
                                            "splunk",
                                            "elastic"
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/data-source/{id}": {
            "get": {
                "tags": [
                    "Data Sources"
                ],
                "summary": "Get data source by ID",
                "operationId": "getDataSource",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Data source details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DataSource"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Data Sources"
                ],
                "summary": "Update data source",
                "operationId": "updateDataSource",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/DataSourceInput"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Data source updated"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Data Sources"
                ],
                "summary": "Delete data source",
                "operationId": "deleteDataSource",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Data source deleted"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/data-source/status/{id}": {
            "get": {
                "tags": [
                    "Data Sources"
                ],
                "summary": "Check if data source is connected",
                "operationId": "checkDataSourceConnection",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Connection status",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "isConnected": {
                                            "type": "boolean"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/endpoint": {
            "get": {
                "tags": [
                    "Endpoints"
                ],
                "summary": "Get list of endpoints",
                "operationId": "getEndpoints",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Items per page",
                        "schema": {
                            "type": "integer",
                            "default": 25
                        }
                    },
                    {
                        "name": "name",
                        "in": "query",
                        "description": "Filter by name",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of endpoints",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Endpoint"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Endpoints"
                ],
                "summary": "Create new endpoint",
                "operationId": "createEndpoint",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "type",
                                    "value"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "My SMS Endpoint"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "sms",
                                            "call",
                                            "email",
                                            "telegram",
                                            "teams",
                                            "matter-most",
                                            "flow"
                                        ],
                                        "example": "sms"
                                    },
                                    "value": {
                                        "type": "string",
                                        "example": "09000000000"
                                    },
                                    "accessUserIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "accessTeamIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "otpCode": {
                                        "description": "For sms, call, email type the otp verification is required",
                                        "type": "string",
                                        "example": "12345"
                                    },
                                    "chatId": {
                                        "description": "For Telegram type",
                                        "type": "string"
                                    },
                                    "threadId": {
                                        "description": "For Telegram type",
                                        "type": "string"
                                    },
                                    "botToken": {
                                        "description": "For Telegram type",
                                        "type": "string"
                                    },
                                    "steps": {
                                        "description": "For flow type - array of steps with wait and endpoint types",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "type": {
                                                    "description": "Step type - wait for delay or endpoint for notification",
                                                    "type": "string",
                                                    "enum": [
                                                        "wait",
                                                        "endpoint"
                                                    ]
                                                },
                                                "duration": {
                                                    "description": "Duration for wait type steps",
                                                    "type": "integer"
                                                },
                                                "timeUnit": {
                                                    "description": "Time unit for wait type steps (seconds, minutes, hours)",
                                                    "type": "string",
                                                    "enum": [
                                                        "s",
                                                        "m",
                                                        "h"
                                                    ]
                                                },
                                                "endpointIds": {
                                                    "description": "Array of endpoint IDs for endpoint type steps",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Endpoint created successfully. Response structure varies based on endpoint type.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Endpoint"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/endpoint/indexFlow": {
            "get": {
                "tags": [
                    "Endpoints"
                ],
                "summary": "Get list of flow endpoints",
                "operationId": "getFlowEndpoints",
                "responses": {
                    "200": {
                        "description": "List of flow endpoints",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Endpoint"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/endpoint/createFlowEndpoints": {
            "get": {
                "tags": [
                    "Endpoints"
                ],
                "summary": "Get endpoints available for flow creation",
                "operationId": "getEndpointsForFlow",
                "responses": {
                    "200": {
                        "description": "List of available endpoints",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Endpoint"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/endpoint/{id}": {
            "get": {
                "tags": [
                    "Endpoints"
                ],
                "summary": "Get endpoint by ID",
                "operationId": "getEndpoint",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Endpoint details. Response structure varies based on endpoint type (sms, email, telegram, flow, etc.)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Endpoint"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Endpoints"
                ],
                "summary": "Update endpoint",
                "operationId": "updateEndpoint",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "type",
                                    "value"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Updated Endpoint Name"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "sms",
                                            "call",
                                            "email",
                                            "telegram",
                                            "teams",
                                            "matter-most",
                                            "flow"
                                        ],
                                        "example": "telegram"
                                    },
                                    "value": {
                                        "type": "string",
                                        "example": "09000000000"
                                    },
                                    "accessUserIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "accessTeamIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "otpCode": {
                                        "description": "For sms, call, email type the otp verification is required if the value updated in process",
                                        "type": "string",
                                        "example": "12345"
                                    },
                                    "chatId": {
                                        "description": "For Telegram type",
                                        "type": "string"
                                    },
                                    "threadId": {
                                        "description": "For Telegram type",
                                        "type": "string"
                                    },
                                    "botToken": {
                                        "description": "For Telegram type",
                                        "type": "string"
                                    },
                                    "steps": {
                                        "description": "For flow type - array of steps with wait and endpoint types",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "type": {
                                                    "description": "Step type - wait for delay or endpoint for notification",
                                                    "type": "string",
                                                    "enum": [
                                                        "wait",
                                                        "endpoint"
                                                    ]
                                                },
                                                "duration": {
                                                    "description": "Duration for wait type steps",
                                                    "type": "integer"
                                                },
                                                "timeUnit": {
                                                    "description": "Time unit for wait type steps (seconds, minutes, hours)",
                                                    "type": "string",
                                                    "enum": [
                                                        "s",
                                                        "m",
                                                        "h"
                                                    ]
                                                },
                                                "endpointIds": {
                                                    "description": "Array of endpoint IDs for endpoint type steps",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Endpoint updated successfully. Response structure varies based on endpoint type.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Endpoint"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Endpoints"
                ],
                "summary": "Delete endpoint",
                "operationId": "deleteEndpoint",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Endpoint deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Endpoint"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/endpoint/sendOTP": {
            "post": {
                "tags": [
                    "Endpoints"
                ],
                "summary": "send OTP code",
                "operationId": "sendOTP",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "type",
                                    "value"
                                ],
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "sms",
                                            "call",
                                            "email"
                                        ],
                                        "example": "sms"
                                    },
                                    "value": {
                                        "type": "string",
                                        "example": "09000000000"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "OTP code has been sent successfully.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OTP code has been sent to your endpoint"
                                        },
                                        "expiredAt": {
                                            "type": "integer",
                                            "example": 1762022993
                                        },
                                        "timeLeft": {
                                            "type": "integer",
                                            "example": 180
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/endpoint/changeOwner/{id}": {
            "post": {
                "tags": [
                    "Endpoints"
                ],
                "summary": "Change endpoint owner",
                "operationId": "changeEndpointOwner",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "userId"
                                ],
                                "properties": {
                                    "userId": {
                                        "type": "string",
                                        "example": "user123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Owner changed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Successfully change owner"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/team": {
            "get": {
                "tags": [
                    "Teams"
                ],
                "summary": "Get list of teams",
                "operationId": "getTeams",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 25
                        }
                    },
                    {
                        "name": "name",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of teams",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Team"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Teams"
                ],
                "summary": "Create new team",
                "operationId": "createTeam",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "type",
                                    "url"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Customer Service"
                                    },
                                    "ownerId": {
                                        "type": "string"
                                    },
                                    "userIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "description": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Team created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Team"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/team/all": {
            "get": {
                "tags": [
                    "Teams"
                ],
                "summary": "Get all of teams",
                "operationId": "getAllTeams",
                "responses": {
                    "200": {
                        "description": "List of teams",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Team"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/team/{id}": {
            "get": {
                "tags": [
                    "Teams"
                ],
                "summary": "Get team by ID",
                "operationId": "getTeam",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Team details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Team"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Teams"
                ],
                "summary": "Update team",
                "operationId": "updateTeam",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TeamInput"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Team updated"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Teams"
                ],
                "summary": "Delete team",
                "operationId": "deleteTeam",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Team deleted"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "KaveNegarConfig": {
                "title": "Kave Negar Call Config",
                "required": [
                    "name",
                    "provider",
                    "apiToken",
                    "senderNumber"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "Primary Call"
                    },
                    "provider": {
                        "type": "string",
                        "enum": [
                            "kaveNegar"
                        ],
                        "example": "kaveNegar"
                    },
                    "apiToken": {
                        "type": "string",
                        "example": "your-api-token-here"
                    }
                },
                "type": "object"
            },
            "KaveNegarConfigSMS": {
                "title": "Kave Negar SMS Config",
                "required": [
                    "name",
                    "provider",
                    "apiToken",
                    "senderNumber"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "Primary SMS"
                    },
                    "provider": {
                        "type": "string",
                        "enum": [
                            "kaveNegar"
                        ],
                        "example": "kaveNegar"
                    },
                    "apiToken": {
                        "type": "string",
                        "example": "your-api-token-here"
                    },
                    "senderNumber": {
                        "type": "string",
                        "example": "10008000800"
                    }
                },
                "type": "object"
            },
            "DataSource": {
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    },
                    "url": {
                        "type": "string"
                    },
                    "webhookToken": {
                        "type": "string"
                    },
                    "copy": {
                        "description": "Webhook URL",
                        "type": "string"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "DataSourceInput": {
                "required": [
                    "name",
                    "type",
                    "url"
                ],
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    },
                    "url": {
                        "type": "string"
                    },
                    "api_token": {
                        "type": "string"
                    },
                    "username": {
                        "type": "string"
                    },
                    "password": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "Endpoint": {
                "description": "Endpoint model with different structures based on type. The structure varies depending on the endpoint type (sms, email, telegram, flow, etc.)",
                "properties": {
                    "id": {
                        "description": "Unique identifier for the endpoint",
                        "type": "string"
                    },
                    "name": {
                        "description": "Display name for the endpoint",
                        "type": "string"
                    },
                    "type": {
                        "description": "Type of the endpoint",
                        "type": "string",
                        "enum": [
                            "sms",
                            "call",
                            "email",
                            "telegram",
                            "teams",
                            "matter-most",
                            "flow"
                        ]
                    },
                    "value": {
                        "description": "Primary value (phone number, email address, etc.) - used for most types except telegram and flow",
                        "type": "string"
                    },
                    "accessUserIds": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "accessTeamIds": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "chatId": {
                        "description": "Chat ID for telegram type endpoints",
                        "type": "string"
                    },
                    "threadId": {
                        "description": "Thread ID for telegram type endpoints",
                        "type": "string"
                    },
                    "botToken": {
                        "description": "Bot token for telegram type endpoints",
                        "type": "string"
                    },
                    "steps": {
                        "description": "Steps array for flow type endpoints",
                        "type": "array",
                        "items": {
                            "properties": {
                                "type": {
                                    "description": "Step type - wait for delay or endpoint for notification",
                                    "type": "string",
                                    "enum": [
                                        "wait",
                                        "endpoint"
                                    ]
                                },
                                "duration": {
                                    "description": "Duration for wait type steps",
                                    "type": "integer"
                                },
                                "timeUnit": {
                                    "description": "Time unit for wait type steps (seconds, minutes, hours)",
                                    "type": "string",
                                    "enum": [
                                        "s",
                                        "m",
                                        "h"
                                    ]
                                },
                                "endpointIds": {
                                    "description": "Array of endpoint IDs for endpoint type steps",
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            },
                            "type": "object"
                        }
                    },
                    "userId": {
                        "description": "User ID who owns this endpoint",
                        "type": "string"
                    },
                    "createdAt": {
                        "description": "Creation timestamp",
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "description": "Last update timestamp",
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object",
                "example": {
                    "id": "680d668e20f7ecb5bc026722",
                    "name": "My SMS Endpoint",
                    "type": "sms",
                    "accessTeamIds": [],
                    "accessUserIds": [],
                    "value": "09000000000",
                    "userId": "userId",
                    "createdAt": "2024-01-01T10:00:00Z",
                    "updatedAt": "2024-01-01T10:00:00Z"
                }
            },
            "EndpointInput": {
                "description": "Input schema for creating/updating endpoints. Structure varies based on type.",
                "required": [
                    "name",
                    "type"
                ],
                "properties": {
                    "name": {
                        "description": "Display name for the endpoint",
                        "type": "string"
                    },
                    "type": {
                        "description": "Type of the endpoint",
                        "type": "string",
                        "enum": [
                            "sms",
                            "call",
                            "email",
                            "telegram",
                            "teams",
                            "matter-most",
                            "flow"
                        ]
                    },
                    "value": {
                        "description": "Primary value (phone number, email address, etc.) - required for most types",
                        "type": "string"
                    },
                    "accessUserIds": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "accessTeamIds": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "chatId": {
                        "description": "Chat ID for telegram type endpoints",
                        "type": "string"
                    },
                    "threadId": {
                        "description": "Thread ID for telegram type endpoints",
                        "type": "string"
                    },
                    "botToken": {
                        "description": "Bot token for telegram type endpoints",
                        "type": "string"
                    },
                    "steps": {
                        "description": "Steps array for flow type endpoints",
                        "type": "array",
                        "items": {
                            "properties": {
                                "type": {
                                    "description": "Step type - wait for delay or endpoint for notification",
                                    "type": "string",
                                    "enum": [
                                        "wait",
                                        "endpoint"
                                    ]
                                },
                                "duration": {
                                    "description": "Duration for wait type steps",
                                    "type": "integer"
                                },
                                "timeUnit": {
                                    "description": "Time unit for wait type steps (seconds, minutes, hours)",
                                    "type": "string",
                                    "enum": [
                                        "s",
                                        "m",
                                        "h"
                                    ]
                                },
                                "endpointIds": {
                                    "description": "Array of endpoint IDs for endpoint type steps",
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "type": "object"
            },
            "Team": {
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "ownerId": {
                        "type": "string"
                    },
                    "userIds": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "description": {
                        "type": "string"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "TeamInput": {
                "required": [
                    "name",
                    "type",
                    "url"
                ],
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "ownerId": {
                        "type": "string"
                    },
                    "userIds": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "description": {
                        "type": "string"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "description": "Enter JWT token (without Bearer prefix)",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "AlertRule",
            "description": "Manage alert rules"
        },
        {
            "name": "Authentication",
            "description": "JWT-based authentication endpoints for Skylogs API"
        },
        {
            "name": "ConfigCall",
            "description": "Manage call configuration"
        },
        {
            "name": "ConfigEmail",
            "description": "Manage email configuration"
        },
        {
            "name": "ConfigSms",
            "description": "Manage sms configuration"
        },
        {
            "name": "Data Sources",
            "description": "Manage monitoring data sources (Prometheus, Grafana, Sentry, etc.)"
        },
        {
            "name": "Endpoints",
            "description": "Manage notification endpoints (SMS, Email, Telegram, Teams, etc.)"
        },
        {
            "name": "Teams",
            "description": "Manage Teams"
        }
    ]
}
